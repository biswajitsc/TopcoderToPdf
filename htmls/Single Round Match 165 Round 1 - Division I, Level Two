<html>
 <head>
  <script type="text/javascript">
   window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o?o:e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({QJf3ax:[function(t,e){function n(t){function e(e,n,a){t&&t(e,n,a),a||(a={});for(var c=u(e),f=c.length,s=i(a,o,r),p=0;f>p;p++)c[p].apply(s,n);return s}function a(t,e){f[t]=u(t).concat(e)}function u(t){return f[t]||[]}function c(){return n(e)}var f={};return{on:a,emit:e,create:c,listeners:u,_events:f}}function r(){return{}}var o="nr@context",i=t("gos");e.exports=n()},{gos:"7eSDFh"}],ee:[function(t,e){e.exports=t("QJf3ax")},{}],gos:[function(t,e){e.exports=t("7eSDFh")},{}],"7eSDFh":[function(t,e){function n(t,e,n){if(r.call(t,e))return t[e];var o=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:o,writable:!0,enumerable:!1}),o}catch(i){}return t[e]=o,o}var r=Object.prototype.hasOwnProperty;e.exports=n},{}],D5DuLP:[function(t,e){function n(t,e,n){return r.listeners(t).length?r.emit(t,e,n):(o[t]||(o[t]=[]),void o[t].push(e))}var r=t("ee").create(),o={};e.exports=n,n.ee=r,r.q=o},{ee:"QJf3ax"}],handle:[function(t,e){e.exports=t("D5DuLP")},{}],XL7HBI:[function(t,e){function n(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:i(t,o,function(){return r++})}var r=1,o="nr@id",i=t("gos");e.exports=n},{gos:"7eSDFh"}],id:[function(t,e){e.exports=t("XL7HBI")},{}],loader:[function(t,e){e.exports=t("G9z0Bl")},{}],G9z0Bl:[function(t,e){function n(){var t=l.info=NREUM.info;if(t&&t.agent&&t.licenseKey&&t.applicationID&&c&&c.body){l.proto="https"===p.split(":")[0]||t.sslForHttp?"https://":"http://",a("mark",["onload",i()]);var e=c.createElement("script");e.src=l.proto+t.agent,c.body.appendChild(e)}}function r(){"complete"===c.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=t("handle"),u=window,c=u.document,f="addEventListener",s="attachEvent",p=(""+location).split("?")[0],l=e.exports={offset:i(),origin:p,features:{}};c[f]?(c[f]("DOMContentLoaded",o,!1),u[f]("load",n,!1)):(c[s]("onreadystatechange",r),u[s]("onload",n)),a("mark",["firstbyte",i()])},{handle:"D5DuLP"}]},{},["G9z0Bl"]);
  </script>
  <title>
   TopCoder Statistics - Problem Statement
  </title>
  <base href="http://community.topcoder.com/"/>
  <script src="/js/reskin/jquery-1.11.0.min.js" type="text/javascript">
  </script>
  <script src="/js/reskin/jquery-migrate-1.2.1.js" type="text/javascript">
  </script>
  <!--[if lt IE 9]>
<script type="text/javascript" src="/js/reskin/html5shiv.js"></script>
<![endif]-->
  <script src="/js/reskin/jquery.jfeed.pack.js" type="text/javascript">
  </script>
  <script src="/js/reskin/newTCScript.js" type="text/javascript">
  </script>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,300" rel="stylesheet" type="text/css"/>
  <link href="/css/coders.css" rel="stylesheet" type="text/css"/>
  <link href="/css/jobsRemix.css" rel="stylesheet" type="text/css"/>
  <link href="/css/reskin/myHome.css" rel="stylesheet" type="text/css"/>
  <link href="/css/reskin/newStyles.css" rel="stylesheet" type="text/css"/>
  <!--[if IE 8]>
<link type="text/css" rel="stylesheet" href="/css/reskin/newStyles_ie8.css"/>
<![endif]-->
  <style type="text/css">
   a:link {color: white}
a:visited {color: white}
  </style>
 </head>
 <body text="#FFFFFF">
  <table border="0" cellpadding="0" cellspacing="0" width="100%">
   <tr>
    <td class="alignTop" valign="top" width="180">
    </td>
    <td class="alignTop" valign="top" width="10">
     <img border="0" height="1" src="/i/clear.gif" width="10"/>
    </td>
    <td class="bodyText" valign="top" width="100%">
     <img border="0" height="1" src="/i/clear.gif" vspace="5" width="240"/>
     <br/>
     <!-- BEGIN BODY -->
     <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
       <td align="left" class="alignBottom" height="26" valign="bottom" width="11">
        <img border="0" height="26" src="/i/steelblue_top_left1.gif" width="11"/>
       </td>
       <td align="left" class="alignBottom" valign="bottom" width="180">
        <img border="0" height="26" src="/i/header_statistics.gif" width="180"/>
       </td>
       <td class="bodyTextBold" valign="middle" width="100%">
        <span class="bodySubhead">
         Problem Statement
        </span>
       </td>
       <td align="right" class="alignTop" valign="top" width="10">
        <img alt="" border="0" height="26" src="/i/clear.gif" width="10"/>
       </td>
      </tr>
     </table>
     <table bgcolor="#001B35" border="0" cellpadding="10" cellspacing="0" class="paddingTable" width="100%">
      <tr>
       <td class="alignTop" valign="top" width="100%">
        <img alt="" border="0" height="1" src="/i/clear.gif" width="240"/>
        <br/>
        <table border="0" cellpadding="0" cellspacing="0" width="100%">
         <tr>
          <td colspan="7">
           <img alt="" border="0" height="1" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td colspan="7">
           <img alt="" border="0" height="5" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">
           Problem Statement for ContinuedFractions
          </td>
         </tr>
         <tr>
          <td colspan="7">
           <img alt="" border="0" height="1" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td colspan="7">
           <img alt="" border="0" height="1" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td align="left" class="problemText" valign="middle">
           <table>
            <tr>
             <td class="statText" colspan="2">
              <h3>
               Problem Statement
              </h3>
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <p>
               Any irrational number greater than 1 can be written as
              </p>
              <pre>
    Q[0] +             1
           ------------------------
           Q[1] +         1
                  -----------------
                  Q[2] +      1
                         ----------
                         Q[3] +  1
                                ---
                                ...
</pre>
              for some infinite sequence
              <tt>
               Q[0]
              </tt>
              ,
              <tt>
               Q[1]
              </tt>
              ,
              <tt>
               Q[2]
              </tt>
              ,
              <tt>
               Q[3]
              </tt>
              ,... where each
              <tt>
               Q[i]
              </tt>
              is a positive integer.  This method of writing a number is called a
              <i>
               continued fraction
              </i>
              , and each
              <tt>
               Q[i]
              </tt>
              is called a
              <i>
               partial quotient
              </i>
              .  A remarkable
fact from number theory is that, whenever the square root of a non-square positive integer is written in this form, the sequence of
partial quotients is periodic.  In other words, there exists some number
              <tt>
               K
              </tt>
              such that
              <tt>
               Q[J+K] = Q[J]
              </tt>
              for all
              <tt>
               J &gt; 0
              </tt>
              .  Notice that the repeating pattern begins at
              <tt>
               Q[1]
              </tt>
              ; the initial partial quotient,
              <tt>
               Q[0]
              </tt>
              , is not involved in the repetition.
              <p>
               We will represent such a periodic continued fraction as the finite sequence
               <tt>
                {Q[0],Q[1],...,Q[K]}
               </tt>
               , where
               <tt>
                K
               </tt>
               is the size of the shortest repeating pattern. 
For example, the square root of 2 has partial quotients 1,2,2,2,... and would be written as
               <tt>
                {1,2}
               </tt>
               .  Similarly, the square root of 8 has partial quotients 2,1,4,1,4,... and would be written as
               <tt>
                {2,1,4}
               </tt>
               .
Your task is to take a non-square positive integer
               <b>
                n
               </b>
               , and calculate its representation as a periodic continued fraction.
Several sample calculations will be presented from which you should be able to generalize an algorithm.  Although you are not
required to follow the same algorithm as the sample calculations, it is highly suggested that you do so.  Note that, for the purposes
of this problem, the periodic continued fraction will always contain fewer than 100 elements.
              </p>
              <p>
               Here is a sample calculation showing that the square root of 2 is
               <tt>
                {1,2}
               </tt>
               :
              </p>
              <pre>
  Step 0: Calculate Q[0] from sqrt(2).

      sqrt(2) = <b>1</b> + sqrt(2)-1
                    ---------
                        1

      Q[0] is 1.  The remainder is (sqrt(2)-1)/1.

  Step 1: Calculate Q[1] from (sqrt(2)-1)/1.

      sqrt(2)-1         1                    1                  1               1
      --------- = ------------- = --------------------- = ------------- = -------------
          1             1             1       sqrt(2)+1     sqrt(2)+1     <b>2</b> + sqrt(2)-1
                    ---------     --------- * ---------     ---------         ---------
                    sqrt(2)-1     sqrt(2)-1   sqrt(2)+1          1                1

      Q[1] is 2.  The remainder is (sqrt(2)-1)/1.

  Step 2: Calculate Q[2] from (sqrt(2)-1)/1.  (Same as Step 1!)
</pre>
              <p>
               Substituting the result of Step 1 into the result of Step 0, we get
              </p>
              <pre>
  sqrt(2) = 1 +    1
                -------
                2 + ...
</pre>
              and at this point the pattern repeats, so the square root of 2 is
              <tt>
               {1,2}
              </tt>
              .
              <p>
               Notice that, at every step, the partial quotient is chosen to force the remainder between 0 and 1 (exclusive), and that there
is only one way to do this.  Also notice that,
in Step 1, we made essential use of the identity
               <tt>
                (A-B)*(A+B) = A*A - B*B
               </tt>
               .
              </p>
              <p>
               Here is a more elaborate example, showing that the square root of 41 is
               <tt>
                {6,2,2,12}
               </tt>
               :
              </p>
              <pre>
Step 0: Calculate Q[0] from sqrt(41).

    sqrt(41) = <b>6</b> + sqrt(41)-6
                   ----------
                        1

    Q[0] is 6.  The remainder is (sqrt(41)-6)/1.

Step 1: Calculate Q[1] from (sqrt(41)-6)/1.

    sqrt(41)-6          1                    1                     1                1
    ---------- = -------------- = ----------------------- = -------------- = --------------
         1              1              1       sqrt(41)+6     sqrt(41)+6     <b>2</b> + sqrt(41)-4
                   ----------     ---------- * ----------     ----------         ----------
                   sqrt(41)-6     sqrt(41)-6   sqrt(41)+6          5                  5

    Q[1] is 2.  The remainder is (sqrt(41)-4)/5.

Step 2: Calculate Q[2] from (sqrt(41)-4)/5.

    sqrt(41)-4          1                    1                     1                1
    ---------- = -------------- = ----------------------- = -------------- = --------------
         5              5              5       sqrt(41)+4     sqrt(41)+4     <b>2</b> + sqrt(41)-6
                   ----------     ---------- * ----------     ----------         ----------
                   sqrt(41)-4     sqrt(41)-4   sqrt(41)+4          5                  5

    Q[2] is 2.  The remainder is (sqrt(41)-6)/5.

Step 3: Calculate Q[3] from (sqrt(41)-6)/5.

    sqrt(41)-6          1                    1                     1                1
    ---------- = -------------- = ----------------------- = -------------- = ---------------
         5              5              5       sqrt(41)+6     sqrt(41)+6     <b>12</b> + sqrt(41)-6
                   ----------     ---------- * ----------     ----------          ----------
                   sqrt(41)-6     sqrt(41)-6   sqrt(41)+6          1                   1

    Q[3] is 12.  The remainder is (sqrt(41)-6)/1.

Step 4: Calculate Q[4] from (sqrt(41)-6)/1.  (Same as Step 1!)
</pre>
              <p>
               Substituting the result of each step into the result of the previous step, we get
              </p>
              <pre>
  sqrt(41) = 6 +       1
                ----------------
                2 +      1
                    ------------
                    2 +    1
                        --------
                        12 + ...
</pre>
              and at this point the pattern repeats, so the square root of 41 is
              <tt>
               {6,2,2,12}
              </tt>
              .
              <p>
               Notice that the remainders are always of the form
               <tt>
                (sqrt(
                <b>
                 n
                </b>
                )-
                <i>
                 d
                </i>
                )/
                <i>
                 m
                </i>
               </tt>
               , for some integers
               <tt>
                <i>
                 d
                </i>
               </tt>
               and
               <tt>
                <i>
                 m
                </i>
               </tt>
               .  It might sometimes appear that the remainder has the form
               <tt>
                <i>
                 c
                </i>
                *(sqrt(
                <b>
                 n
                </b>
                )-
                <i>
                 d
                </i>
                )/
                <i>
                 m
                </i>
               </tt>
               , but
it will always be possible to eliminate the
               <i>
                c
               </i>
               .
              </p>
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
              <h3>
               Definition
              </h3>
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 Class:
                </td>
                <td class="statText">
                 ContinuedFractions
                </td>
               </tr>
               <tr>
                <td class="statText">
                 Method:
                </td>
                <td class="statText">
                 squareRoot
                </td>
               </tr>
               <tr>
                <td class="statText">
                 Parameters:
                </td>
                <td class="statText">
                 int
                </td>
               </tr>
               <tr>
                <td class="statText">
                 Returns:
                </td>
                <td class="statText">
                 int[]
                </td>
               </tr>
               <tr>
                <td class="statText">
                 Method signature:
                </td>
                <td class="statText">
                 int[] squareRoot(int n)
                </td>
               </tr>
               <tr>
                <td class="statText" colspan="2">
                 (be sure your method is public)
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
              <h3>
               Notes
              </h3>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" valign="top">
              -
             </td>
             <td class="statText">
              Because we have restricted each partial quotient to be a positive integer, each square root has a unique representation as a periodic continued fraction.
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
              <h3>
               Constraints
              </h3>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" valign="top">
              -
             </td>
             <td class="statText">
              <b>
               n
              </b>
              is between 2 and 1000, inclusive.
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" valign="top">
              -
             </td>
             <td class="statText">
              <b>
               n
              </b>
              is not a square number.  For example,
              <b>
               n
              </b>
              is not 4, 9, or 16.
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
              <h3>
               Examples
              </h3>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              0)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>2</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: { 1,  2 }</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText" colspan="2">
                    The first example above.
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              1)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>41</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: { 6,  2,  2,  12 }</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText" colspan="2">
                    The second example above.
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              2)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>63</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: { 7,  1,  14 }</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              3)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>158</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: { 12,  1,  1,  3,  12,  3,  1,  1,  24 }</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              4)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>512</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: { 22,  1,  1,  1,  2,  6,  11,  6,  2,  1,  1,  1,  44 }</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                </td>
               </tr>
              </table>
             </td>
            </tr>
           </table>
           <hr/>
           <p>
            This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.
           </p>
          </td>
         </tr>
         <tr>
          <td colspan="7">
           <img alt="" border="0" height="3" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td background="/i/steel_blue_bg.gif" class="statText" colspan="7">
           <img alt="" border="0" height="5" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td class="statText" colspan="7">
           <img alt="" border="0" height="16" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td class="statText" colspan="7">
           This problem was used for:
           <br/>
           <a href="/tc?module=ProblemDetail&amp;rd=4630&amp;pm=1630">
            Single Round Match 165 Round 1 - Division I, Level Two
           </a>
          </td>
         </tr>
        </table>
       </td>
      </tr>
      <tr>
       <td width="100%">
        <img alt="" border="0" height="10" src="/i/clear.gif" width="1"/>
       </td>
      </tr>
     </table>
     <p>
      <br/>
     </p>
     <!-- END BODY -->
    </td>
    <td width="10">
     <img border="0" height="1" src="/i/clear.gif" width="10"/>
    </td>
    <td class="alignTop" valign="top" width="180">
     <img border="0" height="1" src="/i/clear.gif" width="180"/>
     <script language="javascript" type="text/javascript">
     </script>
     <div class="rightColContent">
      <br/>
      <br/>
     </div>
    </td>
    <!-- Gutter -->
    <td width="10">
     <img border="0" height="1" src="/i/clear.gif" width="10"/>
    </td>
    <!-- Gutter Ends -->
   </tr>
  </table>
  <script type="text/javascript">
   var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6340959-1']);
  _gaq.push(['_setDomainName', '.topcoder.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
  <script type="text/javascript">
   window.NREUM||(NREUM={});NREUM.info={"applicationID":"5697653","applicationTime":32,"beacon":"beacon-3.newrelic.com","queueTime":0,"licenseKey":"496af5ee90","transactionName":"ZlcBbBQAChBSARIKXV8dKWs2ThcXUhYPEEZYURAXFhMLAV8HCzBGUEYGVQMPEE1ZERY=","agent":"js-agent.newrelic.com\/nr-476.min.js","errorBeacon":"bam.nr-data.net"}
  </script>
 </body>
</html>
