<html>
 <head>
  <script type="text/javascript">
   window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o?o:e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({QJf3ax:[function(t,e){function n(t){function e(e,n,a){t&&t(e,n,a),a||(a={});for(var c=u(e),f=c.length,s=i(a,o,r),p=0;f>p;p++)c[p].apply(s,n);return s}function a(t,e){f[t]=u(t).concat(e)}function u(t){return f[t]||[]}function c(){return n(e)}var f={};return{on:a,emit:e,create:c,listeners:u,_events:f}}function r(){return{}}var o="nr@context",i=t("gos");e.exports=n()},{gos:"7eSDFh"}],ee:[function(t,e){e.exports=t("QJf3ax")},{}],gos:[function(t,e){e.exports=t("7eSDFh")},{}],"7eSDFh":[function(t,e){function n(t,e,n){if(r.call(t,e))return t[e];var o=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:o,writable:!0,enumerable:!1}),o}catch(i){}return t[e]=o,o}var r=Object.prototype.hasOwnProperty;e.exports=n},{}],D5DuLP:[function(t,e){function n(t,e,n){return r.listeners(t).length?r.emit(t,e,n):(o[t]||(o[t]=[]),void o[t].push(e))}var r=t("ee").create(),o={};e.exports=n,n.ee=r,r.q=o},{ee:"QJf3ax"}],handle:[function(t,e){e.exports=t("D5DuLP")},{}],XL7HBI:[function(t,e){function n(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:i(t,o,function(){return r++})}var r=1,o="nr@id",i=t("gos");e.exports=n},{gos:"7eSDFh"}],id:[function(t,e){e.exports=t("XL7HBI")},{}],loader:[function(t,e){e.exports=t("G9z0Bl")},{}],G9z0Bl:[function(t,e){function n(){var t=l.info=NREUM.info;if(t&&t.agent&&t.licenseKey&&t.applicationID&&c&&c.body){l.proto="https"===p.split(":")[0]||t.sslForHttp?"https://":"http://",a("mark",["onload",i()]);var e=c.createElement("script");e.src=l.proto+t.agent,c.body.appendChild(e)}}function r(){"complete"===c.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=t("handle"),u=window,c=u.document,f="addEventListener",s="attachEvent",p=(""+location).split("?")[0],l=e.exports={offset:i(),origin:p,features:{}};c[f]?(c[f]("DOMContentLoaded",o,!1),u[f]("load",n,!1)):(c[s]("onreadystatechange",r),u[s]("onload",n)),a("mark",["firstbyte",i()])},{handle:"D5DuLP"}]},{},["G9z0Bl"]);
  </script>
  <title>
   TopCoder Statistics - Problem Statement
  </title>
  <base href="http://community.topcoder.com/"/>
  <script src="/js/reskin/jquery-1.11.0.min.js" type="text/javascript">
  </script>
  <script src="/js/reskin/jquery-migrate-1.2.1.js" type="text/javascript">
  </script>
  <!--[if lt IE 9]>
<script type="text/javascript" src="/js/reskin/html5shiv.js"></script>
<![endif]-->
  <script src="/js/reskin/jquery.jfeed.pack.js" type="text/javascript">
  </script>
  <script src="/js/reskin/newTCScript.js" type="text/javascript">
  </script>
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,300" rel="stylesheet" type="text/css"/>
  <link href="/css/coders.css" rel="stylesheet" type="text/css"/>
  <link href="/css/jobsRemix.css" rel="stylesheet" type="text/css"/>
  <link href="/css/reskin/myHome.css" rel="stylesheet" type="text/css"/>
  <link href="/css/reskin/newStyles.css" rel="stylesheet" type="text/css"/>
  <!--[if IE 8]>
<link type="text/css" rel="stylesheet" href="/css/reskin/newStyles_ie8.css"/>
<![endif]-->
  <style type="text/css">
   a:link {color: white}
a:visited {color: white}
  </style>
 </head>
 <body text="#FFFFFF">
  <table border="0" cellpadding="0" cellspacing="0" width="100%">
   <tr>
    <td class="alignTop" valign="top" width="180">
    </td>
    <td class="alignTop" valign="top" width="10">
     <img border="0" height="1" src="/i/clear.gif" width="10"/>
    </td>
    <td class="bodyText" valign="top" width="100%">
     <img border="0" height="1" src="/i/clear.gif" vspace="5" width="240"/>
     <br/>
     <!-- BEGIN BODY -->
     <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr>
       <td align="left" class="alignBottom" height="26" valign="bottom" width="11">
        <img border="0" height="26" src="/i/steelblue_top_left1.gif" width="11"/>
       </td>
       <td align="left" class="alignBottom" valign="bottom" width="180">
        <img border="0" height="26" src="/i/header_statistics.gif" width="180"/>
       </td>
       <td class="bodyTextBold" valign="middle" width="100%">
        <span class="bodySubhead">
         Problem Statement
        </span>
       </td>
       <td align="right" class="alignTop" valign="top" width="10">
        <img alt="" border="0" height="26" src="/i/clear.gif" width="10"/>
       </td>
      </tr>
     </table>
     <table bgcolor="#001B35" border="0" cellpadding="10" cellspacing="0" class="paddingTable" width="100%">
      <tr>
       <td class="alignTop" valign="top" width="100%">
        <img alt="" border="0" height="1" src="/i/clear.gif" width="240"/>
        <br/>
        <table border="0" cellpadding="0" cellspacing="0" width="100%">
         <tr>
          <td colspan="7">
           <img alt="" border="0" height="1" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td colspan="7">
           <img alt="" border="0" height="5" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td background="/i/steel_gray_bg.gif" class="statTextBig" colspan="7" height="18">
           Problem Statement for TreeDistance
          </td>
         </tr>
         <tr>
          <td colspan="7">
           <img alt="" border="0" height="1" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td colspan="7">
           <img alt="" border="0" height="1" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td align="left" class="problemText" valign="middle">
           <table>
            <tr>
             <td class="statText" colspan="2">
              <h3>
               Problem Statement
              </h3>
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              Cat Snuke has a tree with N vertices.
The vertices are labeled 0 through N-1.
              <br/>
              <br/>
              Snuke is able to modify the tree by performing a special operation.
The operation consists of two steps.
In the first step, he selects and removes an arbitrary edge of the tree.
This divides the tree into two connected components.
In the second step, he adds an arbitrary edge that connects those two components back into one tree.
              <br/>
              <br/>
              You are given a int[]
              <b>
               p
              </b>
              that describes a tree, and an int
              <b>
               K
              </b>
              .
The int[]
              <b>
               p
              </b>
              contains N-1 elements.
For each i, the vertex
              <b>
               p
              </b>
              [i] and the vertex (i+1) are connected by an edge.
Note that the initial labeling of the tree is such that for each i,
              <b>
               p
              </b>
              [i] is less than (i+1).
              <br/>
              <br/>
              Snuke currently has the tree described by
              <b>
               p
              </b>
              .
He may now modify it by repeatedly performing the operation described above.
The number of operations Snuke will perform will be between 0 and
              <b>
               K
              </b>
              , inclusive.
              <br/>
              <br/>
              Two trees are considered different if there are vertices p and q such that one of the trees contains the edge p-q but the other one does not.
Return the number of different trees Snuke can produce, modulo 1,000,000,007.
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
              <h3>
               Definition
              </h3>
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 Class:
                </td>
                <td class="statText">
                 TreeDistance
                </td>
               </tr>
               <tr>
                <td class="statText">
                 Method:
                </td>
                <td class="statText">
                 countTrees
                </td>
               </tr>
               <tr>
                <td class="statText">
                 Parameters:
                </td>
                <td class="statText">
                 int[], int
                </td>
               </tr>
               <tr>
                <td class="statText">
                 Returns:
                </td>
                <td class="statText">
                 int
                </td>
               </tr>
               <tr>
                <td class="statText">
                 Method signature:
                </td>
                <td class="statText">
                 int countTrees(int[] p, int K)
                </td>
               </tr>
               <tr>
                <td class="statText" colspan="2">
                 (be sure your method is public)
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
              <h3>
               Constraints
              </h3>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" valign="top">
              -
             </td>
             <td class="statText">
              <b>
               p
              </b>
              will contain between 1 and 49 elements, inclusive. (This means that N will be between 2 and 50, inclusive.)
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" valign="top">
              -
             </td>
             <td class="statText">
              For each valid i,
              <b>
               p
              </b>
              [i] will be between 0 and i, inclusive.
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" valign="top">
              -
             </td>
             <td class="statText">
              <b>
               K
              </b>
              will be between 0 and 50, inclusive.
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
             </td>
            </tr>
            <tr>
             <td class="statText" colspan="2">
              <h3>
               Examples
              </h3>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              0)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>{0, 0}</pre>
                   </td>
                  </tr>
                  <tr>
                   <td class="statText">
                    <pre>1</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: 3</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText" colspan="2">
                    There are three different trees for N=3.
The one described by this
                    <b>
                     p
                    </b>
                    contains the edges 0-1 and 0-2.
Snuke can turn it into either of the other two trees in a single operation.
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              1)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>{0, 1, 2, 2, 0}</pre>
                   </td>
                  </tr>
                  <tr>
                   <td class="statText">
                    <pre>1</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: 28</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText" colspan="2">
                    Some of the trees for N=6 cannot be obtained from the given one in a single operation.
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              2)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>{0, 1, 2, 2, 0}</pre>
                   </td>
                  </tr>
                  <tr>
                   <td class="statText">
                    <pre>2</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: 222</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText" colspan="2">
                    In two operations Snuke can produce some more trees, but not all of them.
For example, Snuke would need three operations to produce the tree with the edges 0-1, 0-2, 0-3, 0-4, and 0-5.
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              3)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>{0, 1, 2, 2, 0}</pre>
                   </td>
                  </tr>
                  <tr>
                   <td class="statText">
                    <pre>50</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: 1296</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText" colspan="2">
                    In 50 operations Snuke can produce all trees.
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              4)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>{0, 1, 2, 2, 0}</pre>
                   </td>
                  </tr>
                  <tr>
                   <td class="statText">
                    <pre>0</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: 1</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText" colspan="2">
                    As no modifications are allowed, there is only one tree Snuke can produce in this test case.
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              5)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>{0, 1, 0, 3, 3, 4, 4, 5, 6, 8, 3, 1, 12, 12, 13, 10, 4, 8, 13, 17, 2, 10, 12, 20, 2, 14, 17, 19, 15, 0, 22, 15, 3, 8, 3, 17, 27, 2, 12, 38, 37, 4, 40, 29, 9, 22, 43, 32, 37}</pre>
                   </td>
                  </tr>
                  <tr>
                   <td class="statText">
                    <pre>1</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: 7124</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText" colspan="2">
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
              </table>
             </td>
            </tr>
            <tr>
             <td align="center" class="statText" nowrap="true">
              6)
             </td>
             <td class="statText">
             </td>
            </tr>
            <tr>
             <td class="statText">
             </td>
             <td class="statText">
              <table>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText">
                    <pre>{0, 0, 0, 0, 2, 3, 1, 2, 3, 7, 3, 10, 8, 8, 9, 1, 2, 0, 7, 17, 19, 2, 17, 2, 0,
6, 4, 9, 12, 14, 8, 12, 10, 30, 20, 30, 8, 36, 28, 22, 8, 2, 2, 13, 26, 14, 46, 6, 25}</pre>
                   </td>
                  </tr>
                  <tr>
                   <td class="statText">
                    <pre>10</pre>
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <pre>Returns: 310259667</pre>
                </td>
               </tr>
               <tr>
                <td class="statText">
                 <table>
                  <tr>
                   <td class="statText" colspan="2">
                   </td>
                  </tr>
                 </table>
                </td>
               </tr>
              </table>
             </td>
            </tr>
           </table>
           <hr/>
           <p>
            This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2010, TopCoder, Inc.  All rights reserved.
           </p>
          </td>
         </tr>
         <tr>
          <td colspan="7">
           <img alt="" border="0" height="3" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td background="/i/steel_blue_bg.gif" class="statText" colspan="7">
           <img alt="" border="0" height="5" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td class="statText" colspan="7">
           <img alt="" border="0" height="16" src="/i/clear.gif" width="1"/>
          </td>
         </tr>
         <tr>
          <td class="statText" colspan="7">
           This problem was used for:
           <br/>
           <a href="/tc?module=ProblemDetail&amp;rd=16058&amp;pm=13369">
            2014 TCO Algorithm Round 3B - Division I, Level Three
           </a>
           <br/>
           <a href="/tc?module=ProblemDetail&amp;rd=16059&amp;pm=13369">
            2014 TCO Algorithm Parallel Round 3B - Division I, Level Three
           </a>
          </td>
         </tr>
        </table>
       </td>
      </tr>
      <tr>
       <td width="100%">
        <img alt="" border="0" height="10" src="/i/clear.gif" width="1"/>
       </td>
      </tr>
     </table>
     <p>
      <br/>
     </p>
     <!-- END BODY -->
    </td>
    <td width="10">
     <img border="0" height="1" src="/i/clear.gif" width="10"/>
    </td>
    <td class="alignTop" valign="top" width="180">
     <img border="0" height="1" src="/i/clear.gif" width="180"/>
     <script language="javascript" type="text/javascript">
     </script>
     <div class="rightColContent">
      <br/>
      <br/>
     </div>
    </td>
    <!-- Gutter -->
    <td width="10">
     <img border="0" height="1" src="/i/clear.gif" width="10"/>
    </td>
    <!-- Gutter Ends -->
   </tr>
  </table>
  <script type="text/javascript">
   var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6340959-1']);
  _gaq.push(['_setDomainName', '.topcoder.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
  <script type="text/javascript">
   window.NREUM||(NREUM={});NREUM.info={"applicationID":"5697673","applicationTime":15,"beacon":"beacon-3.newrelic.com","queueTime":0,"licenseKey":"496af5ee90","transactionName":"ZlcBbBQAChBSARIKXV8dKWs2ThcXUhYPEEZYURAXFhMLAV8HCzBGUEYGVQMPEE1ZERY=","agent":"js-agent.newrelic.com\/nr-476.min.js","errorBeacon":"bam.nr-data.net"}
  </script>
 </body>
</html>
